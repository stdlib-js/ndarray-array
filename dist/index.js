"use strict";var g=function(e,n){return function(){return n||e((n={exports:{}}).exports,n),n.exports}};var T=g(function(Ie,O){"use strict";var U=require("@stdlib/constants-float64-pinf"),G=require("@stdlib/math-base-assert-is-integer");function _(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&G(e.length)&&e.length>=0&&e.length<U}O.exports=_});var E=g(function(Ue,x){"use strict";var m=require("@stdlib/ndarray-defaults");function H(){return{casting:m.get("casting"),copy:!1,dtype:m.get("dtypes.default"),flatten:!0,mode:m.get("index_mode"),ndmin:0,order:m.get("order"),readonly:!1}}x.exports=H});var S=g(function(Ge,j){"use strict";var J=require("@stdlib/ndarray-base-buffer-ctors"),K=require("@stdlib/buffer-alloc-unsafe");function Q(e,n,r){var o,i,t;if(o=J(r),r==="generic")for(i=[],t=0;t<n;t++)i.push(e[t]);else if(r==="binary")for(i=K(n),t=0;t<n;t++)i[t]=e[t];else for(i=new o(n),t=0;t<n;t++)i[t]=e[t];return i}j.exports=Q});var D=g(function(_e,k){"use strict";var W=require("@stdlib/array-base-arraylike2object"),X=require("@stdlib/complex-base-cast-return"),Y=require("@stdlib/complex-ctors"),Z=require("@stdlib/ndarray-base-buffer-ctors"),$=require("@stdlib/buffer-alloc-unsafe"),ee=require("@stdlib/ndarray-base-ctor"),re=require("@stdlib/ndarray-dtype"),ie=require("@stdlib/ndarray-shape"),te=require("@stdlib/ndarray-strides"),ae=require("@stdlib/ndarray-offset"),ne=require("@stdlib/ndarray-order"),oe=require("@stdlib/ndarray-data-buffer");function se(e){var n,r,o;for(n=e.length,r=[],o=0;o<n;o++)r.push(e.iget(o));return r}function ue(e){var n,r,o;for(n=e.length,r=$(n),o=0;o<n;o++)r[o]=e.iget(o);return r}function fe(e,n){var r,o,i,t,f,a,u;if(r=Z(n),o=e.length,i=new r(o),a=W(i),a.accessorProtocol)for(t=a.accessors[1],f=X(v,1,Y(n)),u=0;u<o;u++)t(i,u,f(u));else for(u=0;u<o;u++)i[u]=e.iget(u);return i;function v(s){return e.iget(s)}}function pe(e,n){var r;return r=new ee(re(e),oe(e),ie(e),te(e),ae(e),ne(e)),n==="generic"?se(r):n==="binary"?ue(r):fe(r,n)}k.exports=pe});var C=g(function(He,B){"use strict";function ve(e,n,r){var o,i;for(o=[],i=0;i<r-e;i++)o.push(1);for(i=0;i<e;i++)o.push(n[i]);return o}B.exports=ve});var N=g(function(Je,A){"use strict";var le=require("@stdlib/ndarray-base-assert-is-row-major-string"),de=require("@stdlib/math-base-special-abs");function ce(e,n,r,o){var i,t,f,a,u;if(t=r.length,u=e-t,i=[],le(o)){for(f=de(r[0])*n[u],a=0;a<u;a++)i.push(f);for(a=0;a<t;a++)i.push(r[a])}else{for(a=0;a<u;a++)i.push(1);for(a=0;a<t;a++)i.push(r[a])}return i}A.exports=ce});var I=g(function(Ke,F){"use strict";var l=require("@stdlib/assert-has-own-property"),M=require("@stdlib/assert-is-plain-object"),P=require("@stdlib/assert-is-boolean").isPrimitive,V=require("@stdlib/assert-is-array"),ge=require("@stdlib/assert-is-nonnegative-integer").isPrimitive,ye=require("@stdlib/assert-is-ndarray-like"),me=require("@stdlib/ndarray-base-shape2strides"),he=require("@stdlib/ndarray-base-strides2offset"),qe=require("@stdlib/ndarray-base-strides2order"),h=require("@stdlib/ndarray-base-numel"),we=require("@stdlib/ndarray-ctor"),be=require("@stdlib/ndarray-base-assert-is-column-major-string"),Oe=require("@stdlib/ndarray-base-assert-is-data-type"),Te=require("@stdlib/ndarray-base-assert-is-order"),xe=require("@stdlib/ndarray-base-assert-is-casting-mode"),Ee=require("@stdlib/ndarray-base-assert-is-allowed-data-type-cast"),je=require("@stdlib/ndarray-base-buffer"),Se=require("@stdlib/ndarray-base-buffer-dtype"),ke=require("@stdlib/ndarray-dtype"),De=require("@stdlib/ndarray-shape"),L=require("@stdlib/ndarray-strides"),Be=require("@stdlib/ndarray-offset"),R=require("@stdlib/ndarray-order"),Ce=require("@stdlib/ndarray-data-buffer"),z=require("@stdlib/array-shape"),Ae=require("@stdlib/array-base-flatten"),p=require("@stdlib/string-format"),q=T(),Ne=E(),Me=S(),Pe=D(),Ve=C(),Le=N(),d=Ne();function Re(){var e,n,r,o,i,t,f,a,u,v,s,w,c,b,y;if(arguments.length===1)if(q(arguments[0]))r=arguments[0],e={};else{if(e=arguments[0],!M(e))throw new TypeError(p("invalid argument. Must provide either a valid data source, options argument, or both. Value: `%s`.",e));if(l(e,"buffer")&&(r=e.buffer,!q(r)))throw new TypeError(p("invalid option. `%s` option must be an array-like object, typed-array-like, a Buffer, or an ndarray. Option: `%s`.","buffer",r))}else{if(r=arguments[0],!q(r))throw new TypeError(p("invalid option. Data source must be an array-like object, typed-array-like, a Buffer, or an ndarray. Value: `%s`.",r));if(e=arguments[1],!M(e))throw new TypeError(p("invalid argument. Options argument must be an object. Value: `%s`.",e))}if(r&&(ye(r)?(f=ke(r),y=!0):(f=Se(r)||"generic",y=!1)),v={},s={},l(e,"casting")){if(s.casting=e.casting,!xe(s.casting))throw new TypeError(p("invalid option. `%s` option must be a recognized casting mode. Option: `%s`.","casting",s.casting))}else s.casting=d.casting;if(l(e,"flatten")){if(s.flatten=e.flatten,!P(s.flatten))throw new TypeError(p("invalid option. `%s` option must be a boolean. Option: `%s`.","flatten",s.flatten))}else s.flatten=d.flatten;if(l(e,"ndmin")){if(s.ndmin=e.ndmin,!ge(s.ndmin))throw new TypeError(p("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","ndmin",s.ndmin))}else s.ndmin=d.ndmin;if(l(e,"dtype")){if(t=e.dtype,!Oe(t))throw new TypeError(p("invalid option. `%s` option must be a recognized data type. Option: `%s`.","dtype",t));if(t=String(t),f&&!Ee(f,t,s.casting))throw new Error(p("invalid option. Data type cast is not allowed. Casting mode: `%s`. From: `%s`. To: `%s`.",s.casting,f,t))}else f?!y&&f==="generic"?t=d.dtype:t=f:t=d.dtype;if(l(e,"order")){if(i=e.order,i==="any"||i==="same")y?i==="any"?(b=qe(L(r)),b===3?i=d.order:i=R(r)):i==="same"&&(i=R(r)):i=d.order;else if(!Te(i))throw new TypeError(p("invalid option. `%s` option must be a recognized order. Option: `%s`.","order",i))}else i=d.order;if(l(e,"mode")?v.mode=e.mode:v.mode=d.mode,l(e,"submode")?v.submode=e.submode:v.submode=[v.mode],l(e,"readonly")?v.readonly=e.readonly:v.readonly=d.readonly,l(e,"copy")){if(s.copy=e.copy,!P(s.copy))throw new TypeError(p("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",s.copy))}else s.copy=d.copy;if(l(e,"shape")){if(a=e.shape,!q(a))throw new TypeError(p("invalid option. `%s` option must be an array-like object containing nonnegative integers. Option: `%s`.","shape",a));u=a.length,c=h(a)}else if(r)y?(a=De(r),u=a.length,c=h(a)):s.flatten&&V(r)?(a=z(r),w=a,u=a.length,c=h(a)):(u=1,c=r.length,a=[c]);else throw new Error("invalid arguments. Must provide either a data source, array shape, or both.");if(u<s.ndmin&&(a=Ve(u,a,s.ndmin),u=s.ndmin),y){if(h(r.shape)!==c)throw new RangeError("invalid arguments. Array shape is incompatible with provided data source. Number of data source elements does not match array shape.");f!==t||s.copy?r=Pe(r,t):(n=L(r),o=Be(r),r=Ce(r),n.length<u&&(n=Le(u,a,n,i)))}else if(r){if(f==="generic"&&s.flatten&&V(r)&&(r=Ae(r,w||z(r),be(i))),r.length!==c)throw new RangeError("invalid arguments. Array shape is incompatible with provided data source. Number of data source elements does not match array shape.");(f!==t||s.copy)&&(r=Me(r,c,t))}else r=je(t,c);return n===void 0&&(n=me(a,i),o=he(a,n)),new we(t,r,a,n,o,i,v)}F.exports=Re});var ze=I();module.exports=ze;
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2023 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
