"use strict";var g=function(e,a){return function(){return a||e((a={exports:{}}).exports,a),a.exports}};var T=g(function(Ie,O){"use strict";var U=require("@stdlib/constants-float64-pinf"),G=require("@stdlib/math-base-assert-is-integer");function _(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&G(e.length)&&e.length>=0&&e.length<U}O.exports=_});var E=g(function(Ue,x){"use strict";var m=require("@stdlib/ndarray-defaults");function H(){return{casting:m.get("casting"),copy:!1,dtype:m.get("dtypes.default"),flatten:!0,mode:m.get("index_mode"),ndmin:0,order:m.get("order"),readonly:!1}}x.exports=H});var k=g(function(Ge,j){"use strict";var J=require("@stdlib/ndarray-base-buffer-ctors"),K=require("@stdlib/buffer-alloc-unsafe");function Q(e,a,r){var o,i,n;if(o=J(r),r==="generic")for(i=[],n=0;n<a;n++)i.push(e[n]);else if(r==="binary")for(i=K(a),n=0;n<a;n++)i[n]=e[n];else for(i=new o(a),n=0;n<a;n++)i[n]=e[n];return i}j.exports=Q});var S=g(function(_e,D){"use strict";var W=require("@stdlib/array-base-arraylike2object"),X=require("@stdlib/complex-base-cast-return"),Y=require("@stdlib/complex-ctors"),Z=require("@stdlib/ndarray-base-buffer-ctors"),$=require("@stdlib/buffer-alloc-unsafe"),ee=require("@stdlib/ndarray-base-ctor"),re=require("@stdlib/ndarray-dtype"),ie=require("@stdlib/ndarray-shape"),te=require("@stdlib/ndarray-strides"),ae=require("@stdlib/ndarray-offset"),ne=require("@stdlib/ndarray-order"),oe=require("@stdlib/ndarray-data-buffer");function se(e){var a,r,o;for(a=e.length,r=[],o=0;o<a;o++)r.push(e.iget(o));return r}function ue(e){var a,r,o;for(a=e.length,r=$(a),o=0;o<a;o++)r[o]=e.iget(o);return r}function fe(e,a){var r,o,i,n,f,t,u;if(r=Z(a),o=e.length,i=new r(o),t=W(i),t.accessorProtocol)for(n=t.accessors[1],f=X(v,1,Y(a)),u=0;u<o;u++)n(i,u,f(u));else for(u=0;u<o;u++)i[u]=e.iget(u);return i;function v(s){return e.iget(s)}}function pe(e,a){var r;return r=new ee(re(e),oe(e),ie(e),te(e),ae(e),ne(e)),a==="generic"?se(r):a==="binary"?ue(r):fe(r,a)}D.exports=pe});var C=g(function(He,B){"use strict";function ve(e,a,r){var o,i;for(o=[],i=0;i<r-e;i++)o.push(1);for(i=0;i<e;i++)o.push(a[i]);return o}B.exports=ve});var N=g(function(Je,A){"use strict";var le=require("@stdlib/ndarray-base-assert-is-row-major-string"),de=require("@stdlib/math-base-special-abs");function ce(e,a,r,o){var i,n,f,t,u;if(n=r.length,u=e-n,i=[],le(o)){for(f=de(r[0])*a[u],t=0;t<u;t++)i.push(f);for(t=0;t<n;t++)i.push(r[t])}else{for(t=0;t<u;t++)i.push(1);for(t=0;t<n;t++)i.push(r[t])}return i}A.exports=ce});var I=g(function(Ke,F){"use strict";var l=require("@stdlib/assert-has-own-property"),M=require("@stdlib/assert-is-plain-object"),P=require("@stdlib/assert-is-boolean").isPrimitive,V=require("@stdlib/assert-is-array"),ge=require("@stdlib/assert-is-nonnegative-integer").isPrimitive,ye=require("@stdlib/assert-is-ndarray-like"),me=require("@stdlib/ndarray-base-shape2strides"),he=require("@stdlib/ndarray-base-strides2offset"),qe=require("@stdlib/ndarray-base-strides2order"),h=require("@stdlib/ndarray-base-numel"),we=require("@stdlib/ndarray-ctor"),be=require("@stdlib/ndarray-base-assert-is-column-major-string"),Oe=require("@stdlib/ndarray-base-assert-is-data-type"),Te=require("@stdlib/ndarray-base-assert-is-order"),xe=require("@stdlib/ndarray-base-assert-is-casting-mode"),Ee=require("@stdlib/ndarray-base-assert-is-allowed-data-type-cast"),je=require("@stdlib/ndarray-base-buffer"),ke=require("@stdlib/ndarray-base-buffer-dtype"),De=require("@stdlib/ndarray-dtype"),Se=require("@stdlib/ndarray-shape"),L=require("@stdlib/ndarray-strides"),Be=require("@stdlib/ndarray-offset"),R=require("@stdlib/ndarray-order"),Ce=require("@stdlib/ndarray-data-buffer"),z=require("@stdlib/array-shape"),Ae=require("@stdlib/array-base-flatten"),p=require("@stdlib/string-format"),q=T(),Ne=E(),Me=k(),Pe=S(),Ve=C(),Le=N(),d=Ne();function Re(){var e,a,r,o,i,n,f,t,u,v,s,w,c,b,y;if(arguments.length===1)if(q(arguments[0]))r=arguments[0],e={};else{if(e=arguments[0],!M(e))throw new TypeError(p("invalid argument. Must provide either a valid data source, options argument, or both. Value: `%s`.",e));if(l(e,"buffer")&&(r=e.buffer,!q(r)))throw new TypeError(p("invalid option. `%s` option must be an array-like object, typed-array-like, a Buffer, or an ndarray. Option: `%s`.","buffer",r))}else{if(r=arguments[0],!q(r))throw new TypeError(p("invalid option. Data source must be an array-like object, typed-array-like, a Buffer, or an ndarray. Value: `%s`.",r));if(e=arguments[1],!M(e))throw new TypeError(p("invalid argument. Options argument must be an object. Value: `%s`.",e))}if(r&&(ye(r)?(f=De(r),y=!0):(f=ke(r)||"generic",y=!1)),v={},s={},l(e,"casting")){if(s.casting=e.casting,!xe(s.casting))throw new TypeError(p("invalid option. `%s` option must be a recognized casting mode. Option: `%s`.","casting",s.casting))}else s.casting=d.casting;if(l(e,"flatten")){if(s.flatten=e.flatten,!P(s.flatten))throw new TypeError(p("invalid option. `%s` option must be a boolean. Option: `%s`.","flatten",s.flatten))}else s.flatten=d.flatten;if(l(e,"ndmin")){if(s.ndmin=e.ndmin,!ge(s.ndmin))throw new TypeError(p("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","ndmin",s.ndmin))}else s.ndmin=d.ndmin;if(l(e,"dtype")){if(n=e.dtype,!Oe(n))throw new TypeError(p("invalid option. `%s` option must be a recognized data type. Option: `%s`.","dtype",n));if(f&&!Ee(f,n,s.casting))throw new Error(p("invalid option. Data type cast is not allowed. Casting mode: `%s`. From: `%s`. To: `%s`.",s.casting,f,n))}else f?!y&&f==="generic"?n=d.dtype:n=f:n=d.dtype;if(l(e,"order")){if(i=e.order,i==="any"||i==="same")y?i==="any"?(b=qe(L(r)),b===3?i=d.order:i=R(r)):i==="same"&&(i=R(r)):i=d.order;else if(!Te(i))throw new TypeError(p("invalid option. `%s` option must be a recognized order. Option: `%s`.","order",i))}else i=d.order;if(l(e,"mode")?v.mode=e.mode:v.mode=d.mode,l(e,"submode")?v.submode=e.submode:v.submode=[v.mode],l(e,"readonly")?v.readonly=e.readonly:v.readonly=d.readonly,l(e,"copy")){if(s.copy=e.copy,!P(s.copy))throw new TypeError(p("invalid option. `%s` option must be a boolean. Option: `%s`.","copy",s.copy))}else s.copy=d.copy;if(l(e,"shape")){if(t=e.shape,!q(t))throw new TypeError(p("invalid option. `%s` option must be an array-like object containing nonnegative integers. Option: `%s`.","shape",t));u=t.length,c=h(t)}else if(r)y?(t=Se(r),u=t.length,c=h(t)):s.flatten&&V(r)?(t=z(r),w=t,u=t.length,c=h(t)):(u=1,c=r.length,t=[c]);else throw new Error("invalid arguments. Must provide either a data source, array shape, or both.");if(u<s.ndmin&&(t=Ve(u,t,s.ndmin),u=s.ndmin),y){if(h(r.shape)!==c)throw new RangeError("invalid arguments. Array shape is incompatible with provided data source. Number of data source elements does not match array shape.");f!==n||s.copy?r=Pe(r,n):(a=L(r),o=Be(r),r=Ce(r),a.length<u&&(a=Le(u,t,a,i)))}else if(r){if(f==="generic"&&s.flatten&&V(r)&&(r=Ae(r,w||z(r),be(i))),r.length!==c)throw new RangeError("invalid arguments. Array shape is incompatible with provided data source. Number of data source elements does not match array shape.");(f!==n||s.copy)&&(r=Me(r,c,n))}else r=je(n,c);return a===void 0&&(a=me(t,i),o=he(t,a)),new we(n,r,t,a,o,i,v)}F.exports=Re});var ze=I();module.exports=ze;
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2023 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
