// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import{isPrimitive as r}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@v0.2.2-esm/index.mjs";import{isPrimitive as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-equal-data-type@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-column-major-string@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-data-type@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-order@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-casting-mode@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-allowed-data-type-cast@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape2strides@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides2offset@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides2order@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.3.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer-dtype@v0.3.0-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtype@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-strides@v0.2.2-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-offset@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-order@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-data-buffer@v0.2.2-esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/array-shape@v0.2.2-esm/index.mjs";import Y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-flatten@v0.2.1-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/constants-float64-pinf@v0.2.2-esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-integer@v0.2.5-esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer-ctors@v0.3.0-esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/buffer-alloc-unsafe@v0.2.2-esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-resolve-getter@v0.2.2-esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-resolve-setter@v0.2.2-esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assign@v0.1.1-esm/index.mjs";import X from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-row-major-string@esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-special-abs@v0.2.2-esm/index.mjs";function F(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&z(e.length)&&e.length>=0&&e.length<q}var G={casting:B.get("casting"),copy:!1,dtype:B.get("dtypes.default"),flatten:!0,mode:B.get("index_mode"),ndmin:0,order:B.get("order"),readonly:!1};function H(){var q,z,B,H,I,J,K,L,M,N,Q,S,U,W;if(1===arguments.length)if(F(arguments[0]))B=arguments[0],q={};else{if(!s(q=arguments[0]))throw new TypeError(k("0hT56",q));if(e(q,"buffer")&&!F(B=q.buffer))throw new TypeError(k("0hT57","buffer",B))}else{if(!F(B=arguments[0]))throw new TypeError(k("0hT58",B));if(!s(q=arguments[1]))throw new TypeError(k("0hT2V",q))}if(B&&(i(B)?(K=y(B),W=!0):(K=b(B)||"generic",W=!1)),N={},Q={},e(q,"casting")){if(Q.casting=q.casting,!p(Q.casting))throw new TypeError(k("0hT59","casting",Q.casting))}else Q.casting=G.casting;if(e(q,"flatten")){if(Q.flatten=q.flatten,!r(Q.flatten))throw new TypeError(k("0hT2o","flatten",Q.flatten))}else Q.flatten=G.flatten;if(e(q,"ndmin")){if(Q.ndmin=q.ndmin,!n(Q.ndmin))throw new TypeError(k("0hT2t","ndmin",Q.ndmin))}else Q.ndmin=G.ndmin;if(e(q,"dtype")){if(J=q.dtype,!m(J))throw new TypeError(k("invalid option. `%s` option must be a supported data type. Option: `%s`.","dtype",J));if(K&&!l(K,J,Q.casting))throw new Error(k("0hT5B",Q.casting,K,J))}else J=K?!W&&d(K,"generic")?G.dtype:K:G.dtype;if(e(q,"order")){if("any"===(I=q.order)||"same"===I)W?"any"===I?I=3===j(x(B))?G.order:T(B):"same"===I&&(I=T(B)):I=G.order;else if(!a(I))throw new TypeError(k("0hT5C","order",I))}else I=G.order;if(e(q,"mode")?N.mode=q.mode:N.mode=G.mode,e(q,"submode")?N.submode=q.submode:N.submode=[N.mode],e(q,"readonly")?N.readonly=q.readonly:N.readonly=G.readonly,e(q,"copy")){if(Q.copy=q.copy,!r(Q.copy))throw new TypeError(k("0hT2o","copy",Q.copy))}else Q.copy=G.copy;if(e(q,"shape")){if(!F(L=q.shape))throw new TypeError(k("0hT5D","shape",L));M=L.length,U=v(L)}else{if(!B)throw new Error(k("0hT0X"));W?(M=(L=u(B)).length,U=v(L)):Q.flatten&&t(B)?(S=L=R(B),M=L.length,U=v(L)):(M=1,L=[U=B.length])}if(M<Q.ndmin&&(L=function(e,s,r){var t,n;for(t=[],n=0;n<r-e;n++)t.push(1);for(n=0;n<e;n++)t.push(s[n]);return t}(M,L,Q.ndmin),M=Q.ndmin),W){if(v(B.shape)!==U)throw new RangeError(k("0hT0Y"));!d(K,J)||Q.copy?B=function(e,s){var r,t,n,i,o;return o=u(e),i=T(e),n=v(o),t={dtype:s,data:r=d(s,"generic")?X(n):d(s,"binary")?D(n):new(C(s))(n),shape:o,strides:h(o,i),offset:0,order:i},V([e,t]),r}(B,J):(z=x(B),H=w(B),B=E(B),z.length<M&&(z=function(e,s,r,t){var n,i,d,o,m;if(m=e-(i=r.length),n=[],_(t)){for(d=A(r[0])*s[m],o=0;o<m;o++)n.push(d);for(o=0;o<i;o++)n.push(r[o])}else{for(o=0;o<m;o++)n.push(1);for(o=0;o<i;o++)n.push(r[o])}return n}(M,L,z,I)))}else if(B){if(d(K,"generic")&&Q.flatten&&t(B)&&(B=Y(B,S||R(B),o(I))),B.length!==U)throw new RangeError(k("0hT0Y"));d(K,J)&&!Q.copy||(B=function(e,s,r){var t,n,i,o;if(t=O(e),d(r,"generic")){for(i=[],o=0;o<s;o++)i.push(t(e,o));return i}if(d(r,"binary")){for(i=D(s),o=0;o<s;o++)i[o]=t(e,o);return i}for(i=new(C(r))(s),n=P(i),o=0;o<s;o++)n(i,o,t(e,o));return i}(B,U,J))}else B=g(J,U);return void 0===z&&(z=h(L,I),H=f(L,z)),new c(J,B,L,z,H,I,N)}export{H as default};
//# sourceMappingURL=index.mjs.map
